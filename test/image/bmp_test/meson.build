test_sources = files('main.cpp')

test = executable(test_name, test_sources,
                  include_directories: framework_include,
                  link_with: framework_lib)

configure_file(input: 'good/pal1.bmp',          output: 'good/pal1.bmp', copy: true)
configure_file(input: 'good/pal1bg.bmp',        output: 'good/pal1bg.bmp', copy: true)
configure_file(input: 'good/pal1wb.bmp',        output: 'good/pal1wb.bmp', copy: true)
configure_file(input: 'good/pal4.bmp',          output: 'good/pal4.bmp', copy: true)
configure_file(input: 'good/pal4gs.bmp',        output: 'good/pal4gs.bmp', copy: true)
configure_file(input: 'good/pal4rle.bmp',       output: 'good/pal4rle.bmp', copy: true)
configure_file(input: 'good/pal8-0.bmp',        output: 'good/pal8-0.bmp', copy: true)
configure_file(input: 'good/pal8.bmp',          output: 'good/pal8.bmp', copy: true)
configure_file(input: 'good/pal8gs.bmp',        output: 'good/pal8gs.bmp', copy: true)
configure_file(input: 'good/pal8nonsquare.bmp', output: 'good/pal8nonsquare.bmp', copy: true)
configure_file(input: 'good/pal8os2.bmp',       output: 'good/pal8os2.bmp', copy: true)
configure_file(input: 'good/pal8rle.bmp',       output: 'good/pal8rle.bmp', copy: true)
configure_file(input: 'good/pal8topdown.bmp',   output: 'good/pal8topdown.bmp', copy: true)
configure_file(input: 'good/pal8v4.bmp',        output: 'good/pal8v4.bmp', copy: true)
configure_file(input: 'good/pal8v5.bmp',        output: 'good/pal8v5.bmp', copy: true)
configure_file(input: 'good/pal8w124.bmp',      output: 'good/pal8w124.bmp', copy: true)
configure_file(input: 'good/pal8w125.bmp',      output: 'good/pal8w125.bmp', copy: true)
configure_file(input: 'good/pal8w126.bmp',      output: 'good/pal8w126.bmp', copy: true)
configure_file(input: 'good/rgb16-565.bmp',     output: 'good/rgb16-565.bmp', copy: true)
configure_file(input: 'good/rgb16-565pal.bmp',  output: 'good/rgb16-565pal.bmp', copy: true)
configure_file(input: 'good/rgb16.bmp',         output: 'good/rgb16.bmp', copy: true)
configure_file(input: 'good/rgb16bfdef.bmp',    output: 'good/rgb16bfdef.bmp', copy: true)
configure_file(input: 'good/rgb24.bmp',         output: 'good/rgb24.bmp', copy: true)
configure_file(input: 'good/rgb24pal.bmp',      output: 'good/rgb24pal.bmp', copy: true)
configure_file(input: 'good/rgb32.bmp',         output: 'good/rgb32.bmp', copy: true)
configure_file(input: 'good/rgb32bf.bmp',       output: 'good/rgb32bf.bmp', copy: true)
configure_file(input: 'good/rgb32bfdef.bmp',    output: 'good/rgb32bfdef.bmp', copy: true)

configure_file(input: 'bad/badbitcount.bmp',    output: 'bad/badbitcount.bmp', copy: true)
configure_file(input: 'bad/badbitssize.bmp',    output: 'bad/badbitssize.bmp', copy: true)
configure_file(input: 'bad/baddens1.bmp',       output: 'bad/baddens1.bmp', copy: true)
configure_file(input: 'bad/baddens2.bmp',       output: 'bad/baddens2.bmp', copy: true)
configure_file(input: 'bad/badfilesize.bmp',    output: 'bad/badfilesize.bmp', copy: true)
configure_file(input: 'bad/badheadersize.bmp',  output: 'bad/badheadersize.bmp', copy: true)
configure_file(input: 'bad/badpalettesize.bmp', output: 'bad/badpalettesize.bmp', copy: true)
configure_file(input: 'bad/badplanes.bmp',      output: 'bad/badplanes.bmp', copy: true)
configure_file(input: 'bad/badrle.bmp',         output: 'bad/badrle.bmp', copy: true)
configure_file(input: 'bad/badrle4.bmp',        output: 'bad/badrle4.bmp', copy: true)
configure_file(input: 'bad/badrle4bis.bmp',     output: 'bad/badrle4bis.bmp', copy: true)
configure_file(input: 'bad/badrle4ter.bmp',     output: 'bad/badrle4ter.bmp', copy: true)
configure_file(input: 'bad/badrlebis.bmp',      output: 'bad/badrlebis.bmp', copy: true)
configure_file(input: 'bad/badrleter.bmp',      output: 'bad/badrleter.bmp', copy: true)
configure_file(input: 'bad/badwidth.bmp',       output: 'bad/badwidth.bmp', copy: true)
configure_file(input: 'bad/pal8badindex.bmp',   output: 'bad/pal8badindex.bmp', copy: true)
configure_file(input: 'bad/reallybig.bmp',      output: 'bad/reallybig.bmp', copy: true)
configure_file(input: 'bad/rgb16-880.bmp',      output: 'bad/rgb16-880.bmp', copy: true)
configure_file(input: 'bad/rletopdown.bmp',     output: 'bad/rletopdown.bmp', copy: true)
configure_file(input: 'bad/shortfile.bmp',      output: 'bad/shortfile.bmp', copy: true)

configure_file(input: 'questionable/pal1huff.bmp',        output: 'questionable/pal1huff.bmp', copy: true)
configure_file(input: 'questionable/pal1p1.bmp',          output: 'questionable/pal1p1.bmp', copy: true)
configure_file(input: 'questionable/pal2.bmp',            output: 'questionable/pal2.bmp', copy: true)
configure_file(input: 'questionable/pal2color.bmp',       output: 'questionable/pal2color.bmp', copy: true)
configure_file(input: 'questionable/pal4rlecut.bmp',      output: 'questionable/pal4rlecut.bmp', copy: true)
configure_file(input: 'questionable/pal4rletrns.bmp',     output: 'questionable/pal4rletrns.bmp', copy: true)
configure_file(input: 'questionable/pal8offs.bmp',        output: 'questionable/pal8offs.bmp', copy: true)
configure_file(input: 'questionable/pal8os2-hs.bmp',      output: 'questionable/pal8os2-hs.bmp', copy: true)
configure_file(input: 'questionable/pal8os2-sz.bmp',      output: 'questionable/pal8os2-sz.bmp', copy: true)
configure_file(input: 'questionable/pal8os2sp.bmp',       output: 'questionable/pal8os2sp.bmp', copy: true)
configure_file(input: 'questionable/pal8os2v2-16.bmp',    output: 'questionable/pal8os2v2-16.bmp', copy: true)
configure_file(input: 'questionable/pal8os2v2-40sz.bmp',  output: 'questionable/pal8os2v2-40sz.bmp', copy: true)
configure_file(input: 'questionable/pal8os2v2-sz.bmp',    output: 'questionable/pal8os2v2-sz.bmp', copy: true)
configure_file(input: 'questionable/pal8os2v2.bmp',       output: 'questionable/pal8os2v2.bmp', copy: true)
configure_file(input: 'questionable/pal8oversizepal.bmp', output: 'questionable/pal8oversizepal.bmp', copy: true)
configure_file(input: 'questionable/pal8rlecut.bmp',      output: 'questionable/pal8rlecut.bmp', copy: true)
configure_file(input: 'questionable/pal8rletrns.bmp',     output: 'questionable/pal8rletrns.bmp', copy: true)
configure_file(input: 'questionable/rgb16-231.bmp',       output: 'questionable/rgb16-231.bmp', copy: true)
configure_file(input: 'questionable/rgb16-3103.bmp',      output: 'questionable/rgb16-3103.bmp', copy: true)
configure_file(input: 'questionable/rgb16faketrns.bmp',   output: 'questionable/rgb16faketrns.bmp', copy: true)
configure_file(input: 'questionable/rgb24jpeg.bmp',       output: 'questionable/rgb24jpeg.bmp', copy: true)
configure_file(input: 'questionable/rgb24largepal.bmp',   output: 'questionable/rgb24largepal.bmp', copy: true)
configure_file(input: 'questionable/rgb24lprof.bmp',      output: 'questionable/rgb24lprof.bmp', copy: true)
configure_file(input: 'questionable/rgb24png.bmp',        output: 'questionable/rgb24png.bmp', copy: true)
configure_file(input: 'questionable/rgb24prof.bmp',       output: 'questionable/rgb24prof.bmp', copy: true)
configure_file(input: 'questionable/rgb24prof2.bmp',      output: 'questionable/rgb24prof2.bmp', copy: true)
configure_file(input: 'questionable/rgb32-111110.bmp',    output: 'questionable/rgb32-111110.bmp', copy: true)
configure_file(input: 'questionable/rgb32-7187.bmp',      output: 'questionable/rgb32-7187.bmp', copy: true)
configure_file(input: 'questionable/rgb32-xbgr.bmp',      output: 'questionable/rgb32-xbgr.bmp', copy: true)
configure_file(input: 'questionable/rgb32fakealpha.bmp',  output: 'questionable/rgb32fakealpha.bmp', copy: true)
configure_file(input: 'questionable/rgb32h52.bmp',        output: 'questionable/rgb32h52.bmp', copy: true)
configure_file(input: 'questionable/rgba16-1924.bmp',     output: 'questionable/rgba16-1924.bmp', copy: true)
configure_file(input: 'questionable/rgba16-4444.bmp',     output: 'questionable/rgba16-4444.bmp', copy: true)
configure_file(input: 'questionable/rgba16-5551.bmp',     output: 'questionable/rgba16-5551.bmp', copy: true)
configure_file(input: 'questionable/rgba32-1010102.bmp',  output: 'questionable/rgba32-1010102.bmp', copy: true)
configure_file(input: 'questionable/rgba32-61754.bmp',    output: 'questionable/rgba32-61754.bmp', copy: true)
configure_file(input: 'questionable/rgba32-81284.bmp',    output: 'questionable/rgba32-81284.bmp', copy: true)
configure_file(input: 'questionable/rgba32.bmp',          output: 'questionable/rgba32.bmp', copy: true)
configure_file(input: 'questionable/rgba32abf.bmp',       output: 'questionable/rgba32abf.bmp', copy: true)
configure_file(input: 'questionable/rgba32h56.bmp',       output: 'questionable/rgba32h56.bmp', copy: true)

test(test_name, test,
     suite: group,
     timeout: 60)
